{"version":3,"sources":["webpack:///./src/views/testpage/index.vue","webpack:///./src/views/testpage/index.vue?5fd5","webpack:///./src/views/testpage/index.vue?5d51"],"names":["class","_createElementVNode","for","style","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","type","$setup","name","_hoisted_8","_hoisted_9","decs","_hoisted_10","_hoisted_11","zhuliao","_hoisted_12","_hoisted_13","fuliao","_hoisted_14","_hoisted_15","taste","_hoisted_16","_hoisted_17","spendtime","_hoisted_18","_hoisted_19","diffcu","_hoisted_20","_hoisted_21","auth","_hoisted_22","_hoisted_23","f_id","_hoisted_24","_hoisted_25","g_id","_hoisted_26","_hoisted_27","onChange","$event","_hoisted_28","_hoisted_29","picture","_hoisted_30","src","path","_createVNode","_component_rbutton","onClick","setup","formData","reactive","picData","fieldname","originalname","mimetype","size","picId","ref","regData","res","flag","i","Object","keys","insertFood","async","console","log","reqInsFoodinfo","status","Message","text","message","onchanges","file","event","target","files","fd","FormData","append","value","reqInsFoodpic","data","components","rbutton","__exports__","render"],"mappings":"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","file":"js/chunk-230dc07e.5af83225.js","sourcesContent":["<template>\n  <div class=\"testpage\">\n    <div class=\"bg\">\n      <div class=\"main\">\n        <div class=\"continer\">\n          <div>\n            <form class=\"lists\">\n              <div class=\"inpc\">\n                <label>食物名称：</label>\n                <input type=\"text\" v-model=\"formData.name\">\n              </div>\n              <div class=\"inpc\">\n                <label>食物描述：</label>\n                <input type=\"text\" v-model=\"formData.decs\">\n              </div>\n              <div class=\"inpc\">\n                <label>主料：</label>\n                <input type=\"text\" v-model=\"formData.zhuliao\">\n              </div>\n              <div class=\"inpc\">\n                <label>辅料：</label>\n                <input type=\"text\" v-model=\"formData.fuliao\">\n              </div>\n              <div class=\"inpc\">\n                <label>口味：</label>\n                <input type=\"text\" v-model=\"formData.taste\">\n              </div>\n              <div class=\"inpc\">\n                <label>花费时间：</label>\n                <input type=\"text\" v-model=\"formData.spendtime\">\n              </div>\n              <div class=\"inpc\">\n                <label for=\"\">制作难度：</label>\n                <input type=\"text\" v-model=\"formData.diffcu\">\n              </div>\n              <div class=\"inpc\">\n                <label for=\"\">分类：</label>\n                <input type=\"text\" v-model=\"formData.auth\">\n              </div>\n              <div class=\"inpc\">\n                <label for=\"\">关联id(f_id)：</label>\n                <input type=\"text\" v-model=\"formData.f_id\">\n              </div>\n              <div class=\"inpc\">\n                <label for=\"\">分类关联id(g_id)：</label>\n                <input type=\"text\" v-model=\"formData.g_id\">\n              </div>\n              <div class=\"inpc\">\n                <label for=\"\">上传图片：</label>\n                <input type=\"file\" @change=\"onchanges($event)\">\n              </div>\n              <div class=\"inpc\">\n                <label for=\"\">上传图片(id)：</label>\n                <input type=\"text\" v-model=\"formData.picture\" >\n              </div>\n              <div class=\"\" style=\"width: 45%\">\n                <img :src=\"picData.path\">\n              </div>\n            </form>\n            <rbutton class=\"btn\" @click=\"insertFood\">提交</rbutton>\n          </div>\n          \n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { reactive, onMounted, ref } from 'vue'\nimport rbutton from '@/library/components/r-button'\nimport Message from '@/utils/messageUI'\nimport { reqInsFoodinfo, reqInsFoodpic } from '@/api/food'\n\n\nexport default {\n  name: \"testpage\",\n  setup() {\n    const formData = reactive({\n      name: \"\",\n      decs: \"\",\n      zhuliao: \"\",\n      fuliao: \"\",\n      taste: \"\",\n      spendtime: \"\",\n      diffcu: \"\",\n      auth: \"\",\n      f_id: \"\",\n      g_id: \"\",\n      picture:\"\",\n      \n    })\n\n    let picData = reactive({\n      fieldname: \"\",\n      originalname: \"\",\n      mimetype: \"\",\n      path: \"\",\n      size: null\n    })\n    let picId = ref(null)\n\n\n    const regData = (formData) => {\n      let res = { ...formData }\n      let flag = true\n      for (const i of Object.keys(res)) {\n        if (res[i] === '') {\n          flag = false;\n          break\n        }\n      }\n      return flag\n    }\n    const insertFood = async () => {\n      if (regData(formData)) {\n        console.log(formData);\n        let res = await reqInsFoodinfo(formData)\n        if (res.status === 200) {\n          Message({\n            type: \"success\",\n            text: res.message\n          })\n\n        } else {\n          Message({\n            type: \"error\",\n            text: res.message\n          })\n        }\n      }\n\n    }\n   \n    const onchanges = async (event) => {\n      const file = event.target.files[0]\n      let fd = new FormData()\n      fd.append('picture', file)\n      fd.append('id',picId.value)\n      let res = await reqInsFoodpic(fd)\n      const { fieldname, originalname, mimetype, path, size } = res.data\n      if (res.status === 200) {\n        picData.fieldname = fieldname;\n        picData.originalname = originalname;\n        picData.mimetype = mimetype\n        picData.path = path;\n        picData.size = size\n        formData.picture = path\n        Message({\n            type: \"success\",\n            text: res.message\n          })\n         \n      }else{\n        Message({\n            type: \"error\",\n            text: res.message\n          })\n      }\n      \n    }\n\n    return {\n      formData,\n      insertFood,\n      picData,\n      onchanges,\n      picId\n    }\n  },\n  components: {\n    rbutton,\n\n\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.bg {\n  background: rgba(245, 245, 245);\n  width: 100vw;\n  height: 100vh;\n\n  .main {\n    width: 70%;\n    height: 100%;\n    margin: 0 auto;\n\n    .continer {\n      background-color: #fff;\n      width: 100%;\n      height: 100%;\n\n      .lists {\n        display: flex;\n        flex-direction: row;\n        flex-wrap: wrap;\n        justify-content: space-between;\n\n        form {\n          width: 100%;\n        }\n\n        .inpc {\n          display: flex;\n          justify-content: space-around;\n          flex-direction: column;\n          height: 65px;\n          width: 45%;\n          margin: 8px 16px;\n\n          input {\n            border: 1px solid #d9d9d9;\n            width: 100%;\n            height: 50%;\n          }\n        }\n      }\n    }\n\n  }\n}\n\n.btn {\n  margin: 8px 16px;\n}\n</style>\n","import { render } from \"./index.vue?vue&type=template&id=30b1168d&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=30b1168d&scoped=true&lang=scss\"\n\nimport exportComponent from \"D:\\\\google\\\\vuee\\\\bs\\\\webb\\\\rabbitstore-main\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-30b1168d\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--9-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=30b1168d&scoped=true&lang=scss\""],"sourceRoot":""}