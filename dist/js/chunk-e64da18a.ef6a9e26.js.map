{"version":3,"sources":["webpack:///./src/views/cart/index.vue","webpack:///./src/views/cart/index.vue?c084","webpack:///./src/components/r-confirm/index.vue","webpack:///./src/components/r-confirm/index.vue?32da","webpack:///./src/utils/confirmUI.js","webpack:///./src/views/cart/index.vue?3bb8","webpack:///./src/components/r-confirm/index.vue?51bc"],"names":["class","_createElementVNode","src","_imports_0","alt","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_rbread","_component_rbreaditem","to","_hoisted_4","_hoisted_5","$setup","length","_createBlock","_component_rcheckbox","onChange","_hoisted_6","key","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_Fragment","item","index","_hoisted_15","_hoisted_16","selected","$event","skuId","_hoisted_17","_hoisted_18","_hoisted_19","picture","name","_hoisted_21","_hoisted_22","attrsText","_hoisted_23","nowPrice","_hoisted_24","_component_rcounter","count","_hoisted_25","_hoisted_26","onClick","_hoisted_28","_hoisted_29","_hoisted_30","_component_rloadinglogo","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","userCartTotalNum","userCartSelectNum","_hoisted_37","userSelectPrice","_component_rbutton","size","disabled","setup","cartList","ref","store","useStore","router","useRouter","userSelectAll","firstCart","getCartListData","async","dispatch","value","state","cart","list","computedSubtotal","price","Number","toFixed","computedProductNumTotal","computed","reduce","p","c","filter","userSelectCheckboxAll","forEach","userselect","params","ids","map","carSelect","Message","type","text","offsetTop","isUserSelectAll","every","singSelectChange","data","event","singSelect","delproduct","skuid","duration","Confirm","title","content","then","delCartData","catch","noefficacy","changeCount","updateProductNum","gohome","push","gocheckorder","__exports__","render","fade","style","$props","icon","props","String","default","canCelCallback","Function","confirmCallback","showClose","Boolean","width","height","useWindowSize","onMounted","setTimeout","success","color","backgroundColor","borderColor","warn","error","components","rbutton","div","document","createElement","setAttribute","body","appendChild","confirm","console","log","Promise","resolve","reject","Error","vNode","createVNode","rconfirm"],"mappings":"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","file":"js/chunk-e64da18a.ef6a9e26.js","sourcesContent":["<template>\n  <div class=\"cart-page\">\n    <div class=\"container\">\n      <!--面包屑导航-->\n      <div class=\"cart-cart-bread\">\n        <rbread>\n          <rbreaditem to=\"/\">首页</rbreaditem>\n          <rbreaditem to=\"/cart\">购物车</rbreaditem>\n        </rbread>\n      </div>\n      <!--购物车内容区域-->\n      <div class=\"cart-content container\">\n        <table>\n          <thead>\n            <tr>\n              <th class=\"selectAll\">\n                <rcheckbox v-model=\"isUserSelectAll\" @change=\"userSelectCheckboxAll\" v-if=\"cartList.length>0\"><span>全选</span></rcheckbox>\n                <rcheckbox  v-else><span>全选</span></rcheckbox>\n              </th>\n              <th class=\"productinfo\">商品信息</th>\n              <th class=\"unitprice\">单价</th>\n              <th class=\"priductnumber\">数量</th>\n              <th class=\"subtotal\">小计</th>\n              <th class=\"handle\">操作</th>\n            </tr>\n          </thead>\n          <tbody v-if=\"firstCart\">\n            <div v-if=\"cartList.length > 0\">\n              <template v-for=\"(item, index) in cartList\" :key=\"index\">\n                <tr>\n                  <td>\n                    <div class=\"cartproduct\">\n                      <!--购物车选择框-->\n                      <div class=\"product-checkbox\">\n                        <rcheckbox v-model=\"item.selected\" @change=\"$event=>singSelectChange(item.skuId,$event)\" ></rcheckbox>\n                      </div>\n                      <!--购物车商品数据-->\n                      <div class=\"product-info\">\n                        <div class=\"product-info-img-detail\">\n                          <div class=\"product-img\">\n                            <img :src=\"item.picture\" :alt=\"item.name\">\n                          </div>\n                          <!--商品信息-->\n                          <div class=\"product-info\">\n                            <p class=\"ellipsis\">{{ item.name }}</p>\n                            <p>{{ item.attrsText }}</p>\n                          </div>\n                        </div>\n                        <!--商品单价-->\n                        <div class=\"product-price\">\n                          <span>¥ {{item.nowPrice}}</span>\n                        </div>\n                        <!--商品数量组件-->\n                        <div class=\"product-counter\">\n                          <rcounter v-model=\"item.count\" @change=\"$event => changeCount(item.skuId,item.count)\"></rcounter>\n                        </div>\n                        <!--商品小计-->\n                        <div class=\"product-subtotal\">\n                          <span>¥{{computedSubtotal(item.nowPrice, item.count)}}</span>\n                        </div>\n                        <!--商品操作列-->\n                        <div class=\"product-edit\">\n                          <i class=\"iconfont icon-delete\" @click=\"delproduct('sing', item.skuId)\"></i>\n                        </div>\n                      </div>\n                    </div>\n                  </td>\n                </tr>\n              </template>\n            </div>\n            <div v-else class=\"listempty\">\n              <img src=\"../../assets/images/emptygoods.png\" alt=\"没有商品\">\n              <span>小主您的购物车没有商品哟！<span class=\"gohome\" @click=\"gohome\">去首页看看？</span></span>\n            </div>\n\n          </tbody>\n          <div class=\"carloading\" v-else>\n            <rloadinglogo></rloadinglogo>\n          </div>\n        </table>\n\n      </div>\n      <!--底部结算区域-->\n      <div class=\"cart-bottom\">\n        <!--底部结算左侧区域-->\n        <div class=\"cart-bottom-left\">\n          <!--全选框-->\n          <div class=\"select-all\">\n            <rcheckbox v-model=\"isUserSelectAll\" @change=\"userSelectCheckboxAll\" v-if=\"cartList.length>0\"></rcheckbox>\n          </div>\n          <div class=\"handle-area\">\n            <span @click=\"delproduct('select')\">删除商品</span>\n            <span @click=\"noefficacy\">清空失效商品</span>\n          </div>\n        </div>\n        <!--底部结算右侧区域-->\n        <div class=\"cart-bottom-right\">\n          <span class=\"statistics\">共件 {{computedProductNumTotal.userCartTotalNum}} 商品,已选择 {{computedProductNumTotal.userCartSelectNum}} 件,商品合计：</span>\n          <span class=\"totalPrice\">¥{{ computedProductNumTotal.userSelectPrice }}</span>\n          <rbutton size=\"default\" :disabled=\"computedProductNumTotal.userCartSelectNum === 0\" @click=\"gocheckorder\">下单结算</rbutton>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// api\nimport { carSelect, singSelect, delCartData, updateProductNum } from '@/api/cart'\n// vue\nimport { computed, ref } from 'vue'\n// vuex\nimport { useStore } from 'vuex'\n// 消息提示\nimport Message from '@/utils/messageUI'\n// 确认提示框\nimport Confirm from '@/utils/confirmUI'\n// vue router\nimport { useRouter } from 'vue-router'\n\nexport default {\n  name: 'cartpage',\n  setup () {\n    // 购物车数据\n    const cartList = ref([])\n    // vuex\n    const store = useStore()\n    // vue-router\n    const router = useRouter()\n    // 是否全选\n    const userSelectAll = ref(false)\n    // 购物车是否加载完毕\n    const firstCart = ref(false)\n    // 获取购物车列表数据\n    const getCartListData = async () => {\n      // const { result } = await getCartList()\n      // 购物车列表数据\n      // cartList.value = result\n      await store.dispatch('cart/getCartList')\n      cartList.value = store.state.cart.list\n      // 数据请求完毕关闭loading加载\n      firstCart.value = true\n    }\n    // 获取购物车数据\n    getCartListData()\n    // 计算商品小计\n    const computedSubtotal = (price, count) => {\n      return (Number(count) * Number(price)).toFixed(2)\n    }\n    // 计算总件数 和 总价\n    const computedProductNumTotal = computed(() => {\n      return {\n        // 用户的购物车总件数\n        userCartTotalNum: cartList.value.reduce((p, c) => p + c.count, 0),\n        // 用户已选择的数量\n        userCartSelectNum: (cartList.value.filter(p => p.selected)).length,\n        // 用户已选择的 商品总价\n        userSelectPrice: (cartList.value.reduce((p, c) => p + (c.selected ? (c.count * Number(c.nowPrice)) : 0), 0)).toFixed(2)\n      }\n    })\n\n    // 用户全选\n    const userSelectCheckboxAll = async (userselect) => {\n      cartList.value.forEach(p => {\n        p.selected = userselect\n      })\n      const params = {\n        // 选中状态\n        selected: userselect,\n        // ids 商品skuid集合\n        ids: cartList.value.map(p => {\n          return p.skuId\n        })\n      }\n      await carSelect(params)\n      Message({\n        type: 'success',\n        text: userselect ? '全选成功！' : '已取消全选！',\n        offsetTop: 170\n      })\n    }\n\n    // 计算是否全选\n    const isUserSelectAll = computed(() => {\n      return cartList.value.every(p => p.selected)\n    })\n\n    // 用户单独选中\n    const singSelectChange = async (data, event) => {\n      await singSelect(data, { selected: event })\n      Message({\n        type: 'success',\n        text: '修改状态成功！',\n        offsetTop: 170\n      })\n    }\n    // 删除商品\n    const delproduct = (type, skuid) => {\n      // 判断用户是否有选中的商品\n      if (computedProductNumTotal.value.userCartSelectNum <= 0 && type === 'select') {\n        Message({\n          type: 'warn',\n          text: '您没有选中的商品！',\n          offsetTop: 170,\n          duration: 2500\n        })\n        return\n      }\n      Confirm({\n        type: 'warn',\n        title: '温馨提示！',\n        content:'确认删除该数据吗?'\n      }).then(async () => {\n        const params = {\n          ids: []\n        }\n        if (type === 'sing') {\n          params.ids = [skuid]\n        } else {\n          params.ids = cartList.value.map(p => {\n            if (p.selected) {\n              return p.skuId\n            }\n          })\n        }\n        await delCartData(params)\n        Message({\n          type: 'success',\n          text: '商品删除成功！',\n          offsetTop: 170\n        })\n        await getCartListData()\n      }).catch(() => {\n        Message({\n          type: 'warn',\n          text: '已取消！',\n          offsetTop: 170\n        })\n      })\n    }\n    // 点击清空失效\n    const noefficacy = () => {\n      Message({\n        type: 'warn',\n        text: '功能开发中哦！',\n        offsetTop: 170\n      })\n    }\n\n    // 用户更新商品数量\n    const changeCount = async (skuid, count) => {\n      await updateProductNum(skuid, count)\n      // 调用vuex actions方法\n      await store.dispatch('cart/getCartList')\n    }\n\n    // 跳转到首页\n    const gohome = () => {\n      router.push('/')\n    }\n    // 去订单确认页面\n    const gocheckorder = () => {\n      router.push('/checkorder')\n    }\n    return {\n      cartList,\n      userSelectAll,\n      firstCart,\n      computedSubtotal,\n      computedProductNumTotal,\n      userSelectCheckboxAll,\n      isUserSelectAll,\n      singSelectChange,\n      delproduct,\n      noefficacy,\n      changeCount,\n      gohome,\n      gocheckorder\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.cart-page{\n  background-color: #f5f5f5;\n  overflow: hidden;\n  .cart-cart-bread{\n    padding: 20px 0;\n  }\n  .listempty{\n    margin: 150px 0;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    img{\n      width: 130px;\n    }\n    span{\n      margin-top: 10px;\n      color: #999;\n    }\n    .gohome{\n      color: $txColor;\n      cursor: pointer;\n    }\n  }\n  .cart-content{\n    background-color: #fff;\n    margin-bottom: 20px;\n    padding: 20px;\n    border-radius: $borderRadius;\n    table{\n      thead{\n        width: 100%;\n        height: 40px;\n        border-bottom: 1px solid #f5f5f5;\n        tr{\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          th{\n            font-size: 15px;\n            color: $txColor;\n            font-weight: normal;\n            &.selectAll{\n              width: 100px;\n              span{\n                color: $txColor;\n              }\n            }\n            &.productinfo{\n              width:300px;\n            }\n            &.unitprice{\n              width: 200px;\n            }\n            &.priductnumber{\n              width: 200px;\n            }\n            &.subtotal{\n              width: 200px;\n            }\n            &.handle{\n              width: 200px;\n            }\n          }\n        }\n      }\n      .carloading{\n        margin: 90px 0;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n      tbody{\n        .cartproduct{\n          display: flex;\n          align-items: center;\n          margin: 20px 0;\n          .product-checkbox{\n            width: 100px;\n          }\n          .product-info{\n            //width:300px;\n            display: flex;\n            align-items: center;\n            .product-info-img-detail{\n              width: 300px;\n              display: flex;\n              align-items: center;\n              .product-info{\n                margin-left: 10px;\n                height: 80px;\n\n              }\n            }\n            .product-img{\n              width: 80px;\n              img{\n                width: 80px;\n                height: 80px;\n                border-radius: $borderRadius;\n              }\n            }\n            .product-info{\n              display: flex;\n              width: 190px;\n              flex-direction: column;\n              p{\n                margin: 5px 0;\n                width:100%;\n              }\n            }\n            .product-price{\n              width: 200px;\n              display: flex;\n              justify-content: center;\n            }\n            .product-counter{\n              width: 200px;\n              display: flex;\n              justify-content: center;\n            }\n            .product-subtotal{\n              width: 200px;\n              display: flex;\n              justify-content: center;\n            }\n            .product-edit{\n              width: 200px;\n              display: flex;\n              justify-content: center;\n              .iconfont{\n                cursor: pointer;\n                font-size: 16px;\n                &:hover{\n                  color: $txColor;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n  }\n  .cart-bottom{\n    width: 100%;\n    padding: 20px;\n    box-sizing: border-box;\n    background-color: #fff;\n    margin-top: 20px;\n    border-radius: $borderRadius;\n    margin-bottom: 20px;\n    display: flex;\n    justify-content: space-between;\n    .cart-bottom-left{\n      display: flex;\n      align-items: center;\n      .select-all{\n        display: flex;\n        align-items: center;\n      }\n      .handle-area{\n        display: flex;\n        align-items: center;\n        span{\n          cursor: pointer;\n          margin: 0 10px;\n        }\n      }\n    }\n    .cart-bottom-right{\n      display: flex;\n      align-items: center;\n      .totalPrice{\n        margin-left: 10px;\n        margin-right: 16px;\n        color: $priceColor;\n        font-weight: bold;\n        font-size: 20px;\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./index.vue?vue&type=template&id=28acfca0&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=28acfca0&scoped=true&lang=scss\"\n\nimport exportComponent from \"D:\\\\google\\\\vuee\\\\bs\\\\webb\\\\rabbitstore-main\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-28acfca0\"]])\n\nexport default __exports__","<template>\n  <div class=\"r-confirm-components\" >\n    <!--遮罩-->\n    <div class=\"r-confirm-mask\" :class=\"{fade}\" ></div>\n    <!--confirm内容区域-->\n    <div class=\"r-confirm-content\" :style=\"[style[type]]\" :class=\"{fade}\">\n      <!--confirm 标题-->\n      <div class=\"confirm-title\">\n        <i class=\"iconfont\" :class=\"[style[type].icon]\"></i>\n        <span>{{ title }}</span>\n      </div>\n      <!--confirm内容区域-->\n      <div class=\"confirm-content\">\n        {{content}}\n      </div>\n      <!--confirm footer-->\n      <div class=\"confirm-fooer\">\n        <rbutton type=\"small\" @click=\"canCelCallback\" v-if=\"showClose\">取消</rbutton>\n        <rbutton type=\"primary\" size=\"default\" @click=\"confirmCallback\">确定</rbutton>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// 按钮组件\nimport rbutton from '@/library/components/r-button'\nimport { useWindowSize } from '@vueuse/core'\nimport { onMounted, ref } from 'vue'\nexport default {\n  name: 'rconfirm',\n  props: {\n    // 弹窗的类型\n    type: {\n      type: String,\n      default: 'success'\n    },\n    // 标题\n    title: {\n      type: String,\n      default: '温馨提示'\n    },\n    // 内容文字\n    content: {\n      type: String,\n      default: '内容区域'\n    },\n    // 取消\n    canCelCallback: {\n      type: Function\n    },\n    // 确认\n    confirmCallback: {\n      type: Function\n    },\n    // 是否显示取消\n    showClose: {\n      type: Boolean,\n      default: true\n    }\n  },\n  setup () {\n    const { width, height } = useWindowSize()\n    // fade动画\n    const fade = ref(false)\n    // 元素挂载渲染完成\n    onMounted(() => {\n      // 当元素渲染完毕立即过渡的动画不会触发\n      setTimeout(() => {\n        fade.value = true\n      },0)\n    })\n    const style = {\n      success: {\n        icon: 'icon-zhengque',\n        color: '#67C23A',\n        backgroundColor: '#fff',\n        borderColor: 'rgba(225, 243, 216, 0.8)'\n      },\n      warn: {\n        icon: 'icon-cuowu',\n        color: '#E6A23C',\n        backgroundColor: '#fff',\n        borderColor: 'rgba(250, 236, 216, 0.8)'\n      },\n      error: {\n        icon: 'icon-cuowu1',\n        color: '#F56C6C',\n        backgroundColor: '#fff',\n        borderColor: 'rgba(253, 226, 226, 0.8)'\n      }\n    }\n    return {\n      style,\n      fade,\n      width,\n      height\n    }\n  },\n  components: {\n    rbutton\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.r-confirm-components{\n  width: 100%;\n  height: 100%;\n  //position: relative;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 99999;\n  //transform: translate(-50%);\n  .r-confirm-mask{\n    width: 100%;\n    height: 100%;\n    //position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    position: fixed;\n    background: rgba(0,0,0,0.5);\n    z-index: 100008;\n    &.fade {\n      transition: all 0.4s;\n      background: rgba(0,0,0,.5);\n    }\n  }\n  .r-confirm-content{\n    width: 418px;\n    background-color: #fff;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    z-index: 100009;\n    transform: translate(-50%, -50%);\n    border-radius: $borderRadius;\n    padding: 15px;\n    box-sizing: border-box;\n    opacity: 0;\n    &.fade {\n      transition: all 0.4s;\n      transform: translate(-50%,-50%);\n      opacity: 1;\n    }\n    .confirm-title{\n      display: flex;\n      align-items: center;\n      .iconfont{\n        font-size: 20px !important;\n        margin-right: 10px;\n      }\n      span{\n        font-weight: bold;\n      }\n    }\n    .confirm-content{\n      margin: 20px 0;\n    }\n    .confirm-fooer{\n      display: flex;\n      justify-content: flex-end;\n      :deep {\n        button{\n          margin: 0 5px;\n        }\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./index.vue?vue&type=template&id=ce35b270&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=ce35b270&scoped=true&lang=scss\"\n\nimport exportComponent from \"D:\\\\google\\\\vuee\\\\bs\\\\webb\\\\rabbitstore-main\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ce35b270\"]])\n\nexport default __exports__","// 使用createVNode render 函数\nimport { createVNode, render } from 'vue'\n// 导入确认组件\nimport rconfirm from '@/components/r-confirm'\n// 准备一个容器 把组件 元素渲染进去\nconst div = document.createElement('div')\n// 给容器设置一个类名\ndiv.setAttribute('class', 'c-confirm-container')\n// 把节点放到body中\ndocument.body.appendChild(div)\n// 确认弹窗函数\nconst confirm = ({ type, title, content, showClose = true }) => {\n  console.log('**')\n  console.log(showClose)\n  return new Promise((resolve, reject) => {\n    // 用户点击取消的回调函数\n    const canCelCallback = () => {\n      console.log('88')\n      render(null, div)\n      // 用户点击取消 页面可滚动\n      document.body.style = 'overflow-y: scroll;'\n      // 点击取消按钮，触发reject同时销毁组件\n      reject(new Error('已取消'))\n    }\n    // 用户点击确定的回调函数\n    const confirmCallback = () => {\n      render(null, div)\n      // 用户点击取消 页面可滚动\n      document.body.style = 'overflow-y: scroll;'\n      // 点击确认按钮，触发resolve同时销毁组件\n      resolve()\n    }\n\n    // 创建节点\n    const vNode = createVNode(rconfirm, { type, title, content, showClose , confirmCallback, canCelCallback })\n    document.body.style = 'overflow: hidden;'\n    // 渲染\n    render(vNode, div)\n  })\n}\n\nexport default confirm\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--9-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=28acfca0&scoped=true&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--9-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=ce35b270&scoped=true&lang=scss\""],"sourceRoot":""}